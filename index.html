<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistema de Catequese</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
:root{
  --primary:#4CAF50;
  --primary-dark:#3d8b41;
  --bg:#f4f6f9;
  --card-bg:#fff;
  --text:#333;
  --success:#d4edda;
  --success-text:#155724;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{display:flex;flex-direction:row;background:var(--bg);color:var(--text);}
nav{
  width:220px;background:var(--primary);color:white;min-height:100vh;
  display:flex;flex-direction:column;padding:20px 10px;position:fixed;
}
nav h1{text-align:center;font-size:20px;margin-bottom:30px;font-weight:600;}
nav button{
  background:none;border:none;color:white;padding:12px;margin:5px 0;text-align:left;
  cursor:pointer;border-radius:8px;font-size:15px;display:flex;align-items:center;gap:10px;transition:0.3s;
}
nav button:hover, nav button.active{background:var(--primary-dark);}
main{margin-left:220px;padding:30px;width:100%;overflow-x:auto;}
section{display:none;animation:fadeIn 0.3s ease;}
section.active{display:block;}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
h2{margin-bottom:20px;font-weight:600;}
.card{background:var(--card-bg);padding:20px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,0.05);margin-bottom:25px;transition:0.3s;}
.card:hover{transform:translateY(-2px);}
.form-group{margin-bottom:15px;}
.form-group label{display:block;margin-bottom:6px;font-size:14px;font-weight:600;}
.form-group input,.form-group select,.form-group textarea{width:100%;padding:10px;border:1px solid #ccc;border-radius:8px;font-size:14px;}
textarea{resize:none;}
.btn{background:var(--primary);color:white;padding:10px 16px;border:none;border-radius:8px;cursor:pointer;font-size:14px;transition:0.3s;}
.btn:hover{background:var(--primary-dark);}
table{width:100%;border-collapse:collapse;margin-top:15px;}
table th,table td{padding:12px;text-align:left;border-bottom:1px solid #eee;font-size:14px;}
table tr:nth-child(even){background:#fafafa;}
table tr:hover{background:#f1f1f1;}
.dashboard-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:20px;margin-bottom:30px;}
.dashboard-card{text-align:center;background:var(--card-bg);padding:20px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,0.05);transition:0.3s;}
.dashboard-card:hover{transform:translateY(-3px);}
.dashboard-card h3{font-size:20px;margin-bottom:10px;}
.dashboard-card p{font-size:16px;color:#555;}
#chartDiv{background:var(--card-bg);padding:20px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,0.05);margin-bottom:25px;}
.action-btn{margin-right:5px;cursor:pointer;color:var(--primary);}
.action-btn:hover{color:var(--primary-dark);}
.success{display:none;padding:10px;border-radius:8px;margin-bottom:15px;background:var(--success);color:var(--success-text);}

/* RESPONSIVO MOBILE */
@media(max-width:768px){
  body{flex-direction:column;}
  nav{
    width:100%;
    height:auto;
    flex-direction:row;
    justify-content:space-around;
    position:fixed;
    top:0;
    left:0;
    z-index:1000;
    padding:10px 0;
  }
  nav h1{display:none;}
  nav button{flex:1; font-size:12px; text-align:center; padding:10px 0; margin:0;}
  main{
    margin-left:0;
    margin-top:60px; /* altura do nav */
    padding:15px;
    width:100%;
  }
  .dashboard-cards{grid-template-columns:1fr !important; gap:15px;}
  .card{padding:15px;}
  table{display:block; overflow-x:auto; white-space:nowrap;}
  .form-group{margin-bottom:12px;}
}
</style>
</head>
<body>

<nav>
<h1><i class="fas fa-church"></i> Catequese</h1>
<button onclick="showSection('dashboard')" id="btn-dashboard" class="active"><i class="fas fa-tachometer-alt"></i> Dashboard</button>
<button onclick="showSection('turmas')" id="btn-turmas"><i class="fas fa-users"></i> Turmas</button>
<button onclick="showSection('catequizandos')" id="btn-catequizandos"><i class="fas fa-user-graduate"></i> Catequizandos</button>
<button onclick="showSection('presencas')" id="btn-presencas"><i class="fas fa-check-circle"></i> Presenças</button>
<button onclick="showSection('ritos')" id="btn-ritos"><i class="fas fa-cross"></i> Ritos</button>
</nav>

<main>
<!-- DASHBOARD -->
<section id="dashboard" class="active">
<h2>Dashboard</h2>
<div class="dashboard-cards">
<div class="dashboard-card"><h3 id="totalTurmas">0</h3><p>Turmas</p></div>
<div class="dashboard-card"><h3 id="totalCatequizandos">0</h3><p>Catequizandos</p></div>
<div class="dashboard-card"><h3 id="totalPresencas">0</h3><p>Presenças</p></div>
<div class="dashboard-card"><h3 id="totalRitos">0</h3><p>Ritos</p></div>
</div>
<div id="chartDiv"><canvas id="catequizandosChart"></canvas></div>
</section>

<!-- TURMAS -->
<section id="turmas">
<h2>Cadastro de Turmas</h2>
<div class="card">
<div class="form-group"><label>Nome</label><input type="text" id="turma_nome"></div>
<div class="form-group"><label>Catequista</label><input type="text" id="turma_catequista"></div>
<div class="form-group"><label>Horário</label><input type="text" id="turma_horario"></div>
<input type="hidden" id="turma_row">
<button class="btn" onclick="salvarTurma()">Salvar</button>
<div id="msgTurma" class="success">Turma salva com sucesso!</div>
</div>
<div class="card">
<h3>Lista de Turmas</h3>
<table id="lista_turmas">
<thead><tr><th>Nome</th><th>Catequista</th><th>Horário</th><th>Ações</th></tr></thead>
<tbody></tbody>
</table>
</div>
</section>

<!-- CATEQUIZANDOS -->
<section id="catequizandos">
<h2>Cadastro de Catequizandos</h2>
<div class="card">
<div class="form-group"><label>Nome do Catequizando</label><input type="text" id="cat_nome"></div>
<div class="form-group"><label>Data de Nascimento</label><input type="date" id="cat_data_nasc" onchange="calcularIdade()"></div>
<div class="form-group"><label>Idade</label><input type="text" id="cat_idade" readonly></div>
<div class="form-group"><label>Turma</label><select id="cat_turma"></select></div>
<div class="form-group"><label>Nome do Responsável</label><input type="text" id="cat_responsavel"></div>
<div class="form-group"><label>Contato do Responsável</label><input type="text" id="cat_contato_responsavel"></div>
<div class="form-group"><label>Observações</label><textarea id="cat_observacao" rows="3"></textarea></div>
<input type="hidden" id="cat_row">
<button class="btn" onclick="salvarCatequizando()">Salvar</button>
</div>
<div class="card">
<h3>Lista de Catequizandos</h3>
<table id="lista_catequizandos">
<thead><tr><th>Nome</th><th>Nascimento</th><th>Idade</th><th>Turma</th><th>Responsável</th><th>Contato</th><th>Observações</th><th>Ações</th></tr></thead>
<tbody></tbody>
</table>
</div>
</section>

<!-- PRESENÇAS -->
<section id="presencas">
<h2>Registro de Presenças</h2>
<div class="card">
<div class="form-group"><label>Turma</label><select id="pres_turma" onchange="carregarCatequizandosPresenca()"></select></div>
<div class="form-group"><label>Data</label><input type="date" id="pres_data"></div>
</div>
<div class="card" id="lista_presencas"></div>
</section>

<!-- RITOS -->
<section id="ritos">
<h2>Registro de Ritos</h2>
<div class="card">
<div class="form-group"><label>Turma</label><select id="rito_turma" onchange="carregarCatequizandosRitoPorTurma()"></select></div>
<div class="form-group"><label>Catequizando</label><select id="rito_cat"></select></div>
<div class="form-group"><label>Tipo de Rito</label><input type="text" id="rito_tipo"></div>
<div class="form-group"><label>Data</label><input type="date" id="rito_data"></div>
<input type="hidden" id="rito_row">
<button class="btn" onclick="salvarRito()">Salvar</button>
</div>
<div class="card">
<h3>Lista de Ritos</h3>
<table id="lista_ritos">
<thead><tr><th>Catequizando</th><th>Turma</th><th>Tipo</th><th>Data</th><th>Ações</th></tr></thead>
<tbody></tbody>
</table>
</div>
</section>

<script>
// Cole aqui todo o JS do sistema (igual no código anterior)
</script>

</body>
</html>
